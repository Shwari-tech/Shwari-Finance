<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shwari Finance · 2.5s · link at 0.5s</title>
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <style>
        /* -----------------------------------------------------------------
           TOTAL ANIMATION 2.5 SECONDS – MACRO OPENS AT 0.5 SEC
           - UI pop‑in (0.5s) fast and crisp
           - at 0.5s → app becomes active (scale+fade)
           - UI fades out over 2.0s → fully hidden at 2.5s
        ----------------------------------------------------------------- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            background: #ffffff;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: system-ui, 'Segoe UI', Roboto, sans-serif;
        }

        /* ---------- CENTER WRAPPER (orbits + user) ---------- */
        .wrapper {
            position: relative;
            width: 260px;
            height: 260px;
            opacity: 1;
            transform: scale(1);
            transition: opacity 2s ease, transform 1.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            /* 2s fade – will be triggered at 0.5s, ends at 2.5s */
            will-change: transform, opacity;
        }

        /* POP-IN animation – first 0.5s */
        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.4); }
            70% { opacity: 1; transform: scale(1.08); }
            100% { opacity: 1; transform: scale(1); }
        }

        .wrapper.pop-in {
            animation: popIn 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.98) forwards;
        }

        /* Fade-out state – activated at 0.5s, takes 2s */
        .wrapper.fade-out {
            opacity: 0;
            transform: scale(0.86);
            pointer-events: none;
        }

        /* main icon – user */
        .main-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: #f4f8fb;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 20px 40px rgba(0,0,0,.08);
            z-index: 5;
        }

        .main-icon i {
            font-size: 5rem;
            color: #0b2d3b;
        }

        /* orbit container – continuous rotation */
        .orbit-container {
            position: absolute;
            width: 100%;
            height: 100%;
            animation: rotate 4s linear infinite;
            will-change: transform;
        }

        .orbit {
            position: absolute;
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 8px 20px rgba(0,0,0,.05);
            font-size: 1.4rem;
            border: 1px solid rgba(255,255,255,0.5);
        }

        .orbit1 { top: 0; left: 50%; transform: translate(-50%, -50%); color: #c89d2b; }
        .orbit2 { right: 0; top: 50%; transform: translate(50%, -50%); color: #116aa3; }
        .orbit3 { bottom: 0; left: 50%; transform: translate(-50%, 50%); color: #5c4db0; }
        .orbit4 { left: 0; top: 50%; transform: translate(-50%, -50%); color: #2c7a47; }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to   { transform: rotate(360deg); }
        }

        /* ---------- APP IFRAME – appears at 0.5s (fast pop) ---------- */
        .app {
            position: fixed;
            inset: 0;
            opacity: 0;
            visibility: hidden;
            transform: scale(0.92);
            background: #fff;
            z-index: 1000;
            transition: opacity 0.35s ease, transform 0.45s cubic-bezier(0.34, 1.56, 0.64, 1), visibility 0s linear 0.45s;
            will-change: transform, opacity;
            box-shadow: 0 0 30px rgba(0,0,0,0.02);
        }

        .app.active {
            opacity: 1;
            transform: scale(1);
            visibility: visible;
            transition: opacity 0.35s ease, transform 0.45s cubic-bezier(0.34, 1.56, 0.64, 1), visibility 0s linear 0s;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: white;
        }

        /* subtle loading hint – fades out after app opens */
        .app::after {
            content: "opening macro…";
            position: absolute;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(30, 138, 62, 0.08);
            padding: 8px 22px;
            border-radius: 100px;
            font-size: 0.9rem;
            color: #1e6b3b;
            backdrop-filter: blur(6px);
            border: 1px solid rgba(30,138,62,0.2);
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 1002;
        }

        .app.active::after {
            opacity: 0;
        }

        /* no green – pure timeline */
    </style>
</head>
<body>

    <!-- MAIN UI: orbiting icons + central user -->
    <div class="wrapper" id="ui">
        <div class="main-icon">
            <i class="fas fa-user-tie"></i>
        </div>
        <div class="orbit-container">
            <div class="orbit orbit1"><i class="fas fa-coins"></i></div>
            <div class="orbit orbit2"><i class="fas fa-file-invoice-dollar"></i></div>
            <div class="orbit orbit3"><i class="fas fa-calculator"></i></div>
            <div class="orbit orbit4"><i class="fas fa-money-bill-wave"></i></div>
        </div>
    </div>

    <!-- IFRAME APP – Google Apps Script macro -->
    <div class="app" id="app">
        <iframe src="https://script.google.com/macros/s/AKfycbylK199M9K67T1yKAch3dwoiPBjlCB6zR8dm4ByNgSoolePigtAKpv0B8A3iIQjGg1S/exec"></iframe>
    </div>

    <script>
        (function() {
            "use strict";

            // ----- 2.5 SECOND TIMELINE – LINK OPENS AT 0.5s -----
            const ui = document.getElementById('ui');
            const app = document.getElementById('app');

            // 1. UI pops in (0.5s) – starts immediately
            ui.classList.add('pop-in');

            // 2. At exactly 0.5s: 
            //    - app becomes active (fast pop, link visible)
            //    - UI starts 2s fade-out (ends at 2.5s)
            setTimeout(() => {
                // show macro iframe
                app.classList.add('active');
                
                // begin fade-out of UI (2s duration, thanks to CSS transition)
                ui.classList.add('fade-out');
            }, 2500); // 500ms = 0.5s

            // Iframe src is already set – loads immediately.
        })();
    </script>

    <!-- performance hint -->
    <style>
        .wrapper, .app, .orbit-container {
            will-change: transform, opacity;
        }
    </style>
</body>
</html>
